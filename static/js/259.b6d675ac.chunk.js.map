{"version":3,"file":"static/js/259.b6d675ac.chunk.js","mappings":"4SAce,SAASA,EAAYC,GAAa,IAAVC,EAAKD,EAALC,MACnCC,GAA8CC,EAAAA,EAAAA,UAC1C,CAAC,UAAW,CAAEC,GAAIH,EAAMG,KACxBC,EAAAA,IAFKC,EAAIJ,EAAJI,KAAMC,EAAKL,EAALK,MAAOC,EAASN,EAATM,UAAWC,EAAOP,EAAPO,QAKjC,GAAID,EACA,OAAOE,EAAAA,EAAAA,KAACC,EAAAA,EAAO,IAGnB,GAAIF,EACA,OAAOC,EAAAA,EAAAA,KAAA,MAAAE,SAAKL,EAAMM,UAEtB,IAAMC,EAAUR,EAAKS,QAErB,OACIL,EAAAA,EAAAA,KAACM,EAAAA,EAAc,CAACC,UAAWC,EAAAA,EAAMN,UAC7BO,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CAACC,GAAI,CAACC,SAAU,KAAM,aAAW,gBAAeV,SAAA,EAClDF,EAAAA,EAAAA,KAACa,EAAAA,EAAS,CAAAX,UACNO,EAAAA,EAAAA,MAACK,EAAAA,EAAQ,CAAAZ,SAAA,EACLF,EAAAA,EAAAA,KAACe,EAAAA,EAAS,CAAAb,SAAE,YACZF,EAAAA,EAAAA,KAACe,EAAAA,EAAS,CAACC,MAAM,SAAQd,SAAC,aAC1BF,EAAAA,EAAAA,KAACe,EAAAA,EAAS,CAACC,MAAM,QAAOd,SAAC,eAGjCF,EAAAA,EAAAA,KAACiB,EAAAA,EAAS,CAAAf,SACLE,EAAQc,KAAI,SAACC,GAAC,OACXV,EAAAA,EAAAA,MAACK,EAAAA,EAAQ,CAAAZ,SAAA,EACLF,EAAAA,EAAAA,KAACe,EAAAA,EAAS,CAACR,UAAU,KAAKa,MAAM,MAAKlB,SAChCiB,EAAEE,UAEPrB,EAAAA,EAAAA,KAACe,EAAAA,EAAS,CAAAb,UC3CdoB,ED2CyBH,EAAEI,QC1CxCC,IAASF,EAAQ,CACpBG,OAAQ,IACRC,UAAW,gBDyCS1B,EAAAA,EAAAA,KAACe,EAAAA,EAAS,CAAAb,UACNF,EAAAA,EAAAA,KAAC2B,EAAAA,GAAI,CACDC,GAAE,YAAAC,OAAcV,EAAEzB,IAClBoC,MAAO,CACHC,OAAQZ,EACR5B,MAAOA,GACTW,SACL,oBAZMiB,EAAEzB,ICvClC,IAAiB4B,CDuDW,UAMnC,C","sources":["components/movieReviews/index.js","util.js"],"sourcesContent":["import React from \"react\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {getMovieReviews} from \"../../api/tmdb-api\";\r\nimport { excerpt } from \"../../util\";\r\nimport {useQuery} from \"react-query\";\r\nimport Spinner from \"../spinner\";\r\n\r\nexport default function MovieReviews({ movie }) {\r\n    const {  data, error, isLoading, isError }  = useQuery(\r\n        [\"reviews\", { id: movie.id }],\r\n        getMovieReviews\r\n    )\r\n\r\n    if (isLoading) {\r\n        return <Spinner />\r\n    }\r\n\r\n    if (isError) {\r\n        return <h1>{error.message}</h1>\r\n    }\r\n    const reviews = data.results;\r\n\r\n    return (\r\n        <TableContainer component={Paper}>\r\n            <Table sx={{minWidth: 550}} aria-label=\"reviews table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell >Author</TableCell>\r\n                        <TableCell align=\"center\">Excerpt</TableCell>\r\n                        <TableCell align=\"right\">More</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {reviews.map((r) => (\r\n                        <TableRow key={r.id}>\r\n                            <TableCell component=\"th\" scope=\"row\">\r\n                                {r.author}\r\n                            </TableCell>\r\n                            <TableCell >{excerpt(r.content)}</TableCell>\r\n                            <TableCell >\r\n                                <Link\r\n                                    to={`/reviews/${r.id}`}\r\n                                    state={{\r\n                                        review: r,\r\n                                        movie: movie,\r\n                                    }}\r\n                                >\r\n                                    Full Review\r\n                                </Link>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}","import truncate from \"lodash/truncate\";\r\n\r\nexport function excerpt(string) {\r\n    return truncate(string, {\r\n        length: 400, // maximum 400 characters\r\n        separator: /,?\\.* +/, // separate by spaces, including preceding commas and periods\r\n    });\r\n}"],"names":["MovieReviews","_ref","movie","_useQuery","useQuery","id","getMovieReviews","data","error","isLoading","isError","_jsx","Spinner","children","message","reviews","results","TableContainer","component","Paper","_jsxs","Table","sx","minWidth","TableHead","TableRow","TableCell","align","TableBody","map","r","scope","author","string","content","truncate","length","separator","Link","to","concat","state","review"],"sourceRoot":""}