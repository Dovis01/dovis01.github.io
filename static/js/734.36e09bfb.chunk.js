"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[734],{6734:function(e,n,r){r.r(n);var t=r(9439),a=r(4294),i=r(7391),o=r(9891),l=r(890),s=r(4554),u=r(9195),c=r(2791),d=r(1413),v=r(3543),h=r(9658),m=r(7689),x=r(184),f=[{value:5,label:"Excellent"},{value:4,label:"Good"},{value:3,label:"Average"},{value:2,label:"Poor"},{value:0,label:"Terrible"}],g={root:{marginTop:2,display:"flex",flexDirection:"column",alignItems:"left"},form:{width:"100%","& > * ":{marginTop:2}},textField:{width:"40ch"},submit:{marginRight:2},snack:{width:"50%","& > * ":{width:"100%"}}};n.default=function(e){var n=e.movie,r=(0,c.useContext)(d.m),b=(0,c.useState)(3),p=(0,t.Z)(b,2),w=p[0],j=p[1],Z=(0,c.useState)(!1),C=(0,t.Z)(Z,2),y=C[0],k=C[1],R=(0,m.s0)(),S=(0,u.cI)({author:"",review:"",agree:!1,rating:"3"}),q=S.control,T=S.formState.errors,I=S.handleSubmit,Q=S.reset,V=function(e){j(e.target.value)},A=function(e){k(!1),R("/movies/favorites")};return(0,x.jsxs)(s.Z,{component:"div",sx:g.root,children:[(0,x.jsx)(l.Z,{component:"h2",variant:"h3",children:"Write a review"}),(0,x.jsx)(v.Z,{sx:g.snack,anchorOrigin:{vertical:"top",horizontal:"right"},open:y,onClose:A,children:(0,x.jsx)(h.Z,{severity:"success",variant:"filled",onClose:A,children:(0,x.jsx)(l.Z,{variant:"h4",children:"Thank you for submitting a review"})})}),(0,x.jsxs)("form",{sx:g.form,onSubmit:I((function(e){e.movieId=n.id,e.rating=w,r.addReview(n,e),k(!0)})),noValidate:!0,children:[(0,x.jsx)(u.Qr,{name:"author",control:q,rules:{required:"Name is required"},defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,x.jsx)(i.Z,{sx:{width:"40ch"},variant:"outlined",margin:"normal",required:!0,onChange:r,value:t,id:"author",label:"Author's name",name:"author",autoFocus:!0})}}),T.author&&(0,x.jsx)(l.Z,{variant:"h6",component:"p",children:T.author.message}),(0,x.jsx)(u.Qr,{name:"review",control:q,rules:{required:"Review cannot be empty.",minLength:{value:10,message:"Review is too short"}},defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;return(0,x.jsx)(i.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"review",value:t,onChange:r,label:"Review text",id:"review",multiline:!0,minRows:10})}}),T.review&&(0,x.jsx)(l.Z,{variant:"h6",component:"p",children:T.review.message}),(0,x.jsx)(u.Qr,{control:q,name:"rating",render:function(e){var n=e.field;n.onChange,n.value;return(0,x.jsx)(i.Z,{id:"select-rating",select:!0,variant:"outlined",label:"Rating Select",value:w,onChange:V,helperText:"Don't forget your rating",children:f.map((function(e){return(0,x.jsx)(o.Z,{value:e.value,children:e.label},e.value)}))})}}),(0,x.jsxs)(s.Z,{sx:g.buttons,children:[(0,x.jsx)(a.Z,{type:"submit",variant:"contained",color:"primary",sx:g.submit,children:"Submit"}),(0,x.jsx)(a.Z,{type:"reset",variant:"contained",color:"secondary",sx:g.submit,onClick:function(){Q({author:"",content:""})},children:"Reset"})]})]})]})}}}]);
//# sourceMappingURL=734.36e09bfb.chunk.js.map